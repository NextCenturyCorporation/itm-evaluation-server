id: reusable-supplies
name: IED Explosion
# Test description: Ensure pulse ox and another reusable supply (e.g., Burn Dressing) works as intended.
first_scene: test_scene
state:
  unstructured: This is a test
  mission:
    unstructured: No mission parameters # mission is not required, but if it is provided, unstructured is required
    mission_type: Patrol # controlled vocab includes Attack, Defend, Delay, Patrol, Reconnaissance, Ambush, Listening/Observation, Direct action, Hostage rescue, Asset transport, Sensor emplacement, Intelligence gathering, Civil affairs, Training, Sabotage, Security patrol, Fire support, Nuclear deterrence, Extraction, Unknown

  environment: # Normally many of these fields would be left unspecified.
    sim_environment:
      type: jungle # controlled vocab includes jungle, submarine, urban, desert
    decision_environment:
      unstructured: This is a test
      aid_delay:
        - id: ground_1
          delay: 5 # CASEVAC or MEDEVAC timer, in minutes
          type: ground # controlled vocab includes air, ground, water, unknown
          max_transport: 1 # Maximum number of characters that can be transported

  supplies:
    - { type: Pressure bandage, quantity: 2 }
    - { type: Pulse Oximeter, quantity: 1, reusable: True }
    - { type: Burn Dressing, quantity: 1, reusable: True }
  characters:
    - id: Mike # Internal name, can be same as name
      name: Mike # Name used in display/speech
      unstructured: This is a test.
      unstructured_postassess: This is still a test.
      has_blanket: true # Whether or not a blanket has been placed on or under a character
      demographics:
        age: 34
        sex: M # controlled vocab includes M, F, Unknown
        race: White # controlled vocab includes American Indian, White, Hispanic, Black, Asian, Pacific Islander
      vitals:
        avpu: UNRESPONSIVE # controlled vocab includes ALERT, VOICE, PAIN, UNRESPONSIVE; see https://www.firstresponse.org.uk/first-aid-az/3-general/first-aid/79-levels-of-response
        ambulatory: false
        mental_status: UNRESPONSIVE # controlled vocab includes AGONY, CALM, CONFUSED, SHOCK, UPSET, UNRESPONSIVE
        breathing: FAST # controlled vocab includes NORMAL, FAST, RESTRICTED, NONE
        heart_rate: FAST # controlled vocab includes NONE, FAINT, NORMAL, FAST
        spo2: 92 # a percentage
      injuries:
        - name: Internal # controlled vocab includes Abrasion, Ear Bleed, Burn, Laceration, Asthmatic, Puncture, Shrapnel, Chest Collapse, Amputation, Internal, Broken Bone
          location: internal # controlled vocab includes forearm, calf, hand, leg, thigh, stomach, bicep, shoulder, side, chest, wrist, face, neck, internal, unspecified.  Most locations allow a left and right designation.
          status: hidden # controlled vocab: hidden, discoverable, discovered, treated, visible
          source_character: Civilian_01 # The character id of the person responsible for the injury
        - name: Burn # controlled vocab includes Abrasion, Ear Bleed, Burn, Laceration, Asthmatic, Puncture, Shrapnel, Chest Collapse, Amputation, Internal, Broken Bone
          location: right chest # controlled vocab includes forearm, calf, hand, leg, thigh, stomach, bicep, shoulder, side, chest, wrist, face, neck, internal, unspecified.  Most locations allow a left and right designation.
          status: discoverable # controlled vocab: hidden, discoverable, discovered, treated, visible
          severity: substantial # controlled vocab: minor, moderate, substantial, major, extreme
    - id: Civilian_01
      name: Unknown civilian
      unstructured: This is a test.
      unstructured_postassess: This is still a test.
      demographics:
        age: 40
        sex: M
        race: Asian # controlled vocab includes American Indian, White, Hispanic, Black, Asian, Pacific Islander
      vitals:
        avpu: ALERT # controlled vocab includes ALERT, VOICE, PAIN, UNRESPONSIVE; see https://www.firstresponse.org.uk/first-aid-az/3-general/first-aid/79-levels-of-response
        ambulatory: true
        mental_status: CONFUSED # Like unresponsive, but could be an indication of non-English speaking
        breathing: NORMAL # controlled vocab includes NORMAL, FAST, RESTRICTED, NONE
        heart_rate: FAINT # controlled vocab includes NONE, FAINT, NORMAL, FAST
        spo2: 94 # a percentage
      injuries:
        - name: Burn # controlled vocab includes Abrasion, Ear Bleed, Burn, Laceration, Asthmatic, Puncture, Shrapnel, Chest Collapse, Amputation, Internal, Broken Bone
          location: right chest # controlled vocab includes forearm, calf, hand, leg, thigh, stomach, bicep, shoulder, side, chest, wrist, face, neck, internal, unspecified.  Most locations allow a left and right designation.
          status: discoverable # controlled vocab: hidden, discoverable, discovered, treated, visible
          severity: substantial # controlled vocab: minor, moderate, substantial, major, extreme

scenes:
  - id: test_scene
    end_scene_allowed: false
    restricted_actions: # These actions will not be returned in get_available_actions (not including END_SCENE)
      - TAG_CHARACTER
      - CHECK_RESPIRATION
      - CHECK_PULSE
      - DIRECT_MOBILE_CHARACTERS
      - SEARCH
      - SITREP
      - MOVE_TO_EVAC
    action_mapping:
      - action_id: mike-bloodox
        action_type: CHECK_BLOOD_OXYGEN
        unstructured: Check Mike's blood oxygen
        character_id: Mike
        repeatable: True
        probe_id: test-1
        choice: test-choice1
      - action_id: civilian-bloodox
        action_type: CHECK_BLOOD_OXYGEN
        unstructured: Check Civilian's blood oxygen
        character_id: Civilian_01
        repeatable: True
        probe_id: test-1
        choice: test-choice2
      - action_id: mike-vitals
        action_type: CHECK_ALL_VITALS
        unstructured: Check Mike's vital signs
        character_id: Mike
        repeatable: True
        probe_id: test-1
        choice: test-choice3
      - action_id: treat-mike
        action_type: APPLY_TREATMENT
        unstructured: Treat Mike's injury
        character_id: Mike
        parameters: { "treatment": "Burn Dressing", "location": "right chest" }
        probe_id: test-1
        choice: test-choice4
      - action_id: civ-vitals
        action_type: CHECK_ALL_VITALS
        unstructured: Check Civilian's vital signs
        character_id: Civilian_01
        repeatable: True
        probe_id: test-1
        choice: test-choice5
      - action_id: treat-civ
        action_type: APPLY_TREATMENT
        unstructured: Treat Civilian's injury
        character_id: Civilian_01
        parameters: { "treatment": "Burn Dressing", "location": "right chest" }
        probe_id: test-1
        choice: test-choice6
    transitions:
      elapsed_time_gt: 1500 # Ensure that the burn dressing will be reused.
